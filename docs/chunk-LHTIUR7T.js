import{$a as R,A,Cb as P,Db as w,Eb as Y,Fb as q,Gb as J,Hb as K,Ia as C,Ka as d,Ma as N,Na as z,Oa as B,Pa as o,Qa as r,Qb as x,Ra as p,Sa as b,Ta as M,Ua as U,Va as L,Wa as f,Xa as X,Y as h,Ya as _,_a as l,ab as F,ba as c,bb as y,c as u,cb as k,d as S,db as G,e as j,ea as $,s as T,ua as H,wa as m,z as D}from"./chunk-6AEUVDUT.js";var Q=(()=>{var e;let a=class a{constructor(){S(this,e,h(x))}onChange(n){if(!n.target.checked){confirm("You're having a good time. Are you sure you want to turn-off ?")&&(u(this,e).resetGame(),u(this,e).logout());return}u(this,e).startGame()}};e=new WeakMap,a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=c({type:a,selectors:[["power-switch-button"]],standalone:!0,features:[l],decls:6,vars:0,consts:[[1,"power-switch-button__wrapper","flex","flex-col","items-center"],[1,"switch"],["type","checkbox",1,"h-4","w-4",3,"change"],[1,"slider","round"],[1,"btn-label"]],template:function(i,v){i&1&&(o(0,"div",0)(1,"label",1)(2,"input",2),b("change",function(I){return v.onChange(I)}),r(),p(3,"span",3),r(),o(4,"span",4),f(5,"ON/OFF"),r()())},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#000;-webkit-transition:.4s;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#696969;-webkit-transition:.4s;transition:.4s}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#000}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:red;-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translate(26px)}.btn-label[_ngcontent-%COMP%]{font-size:13px}']});let t=a;return t})();var V=(()=>{var e;let a=class a{constructor(){S(this,e,h(x))}handleClick(){u(this,e).toggleIsPaused()}};e=new WeakMap,a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=c({type:a,selectors:[["pause-button"]],standalone:!0,features:[l],decls:4,vars:0,consts:[[1,"button-wrapper","flex","flex-col","items-center"],[1,"pause-button","rounded-lg",3,"click"]],template:function(i,v){i&1&&(o(0,"div",0)(1,"button",1),b("click",function(){return v.handleClick()}),r(),o(2,"label"),f(3,"Pause"),r()())},styles:[".pause-button[_ngcontent-%COMP%]{background-color:#000;height:15px;width:60px;box-shadow:0 -3px 6px #fff9 inset}.pause-button[_ngcontent-%COMP%]:active{transform:rotate(180deg)}.button-wrapper[_ngcontent-%COMP%]{transform:rotate(-15deg)}label[_ngcontent-%COMP%]{font-size:14px;text-transform:capitalize}"]});let t=a;return t})();var W=(()=>{var e;let a=class a{constructor(){S(this,e,h(x))}handleClick(){u(this,e).dropdownTetromino()}};e=new WeakMap,a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=c({type:a,selectors:[["drop-button"]],standalone:!0,features:[l],decls:4,vars:0,consts:[[1,"button-wrapper","flex","flex-col"],[1,"drop-button","rounded-full",3,"click"]],template:function(i,v){i&1&&(o(0,"div",0)(1,"button",1),b("click",function(){return v.handleClick()}),r(),o(2,"label"),f(3,"Drop (Space)"),r()())},styles:[".drop-button[_ngcontent-%COMP%]{background-color:gray;box-shadow:0 -3px 6px #fff9 inset}.drop-button[_ngcontent-%COMP%]:active{transform:rotate(180deg);transition:transform 0s}label[_ngcontent-%COMP%]{font-size:14px}"]});let t=a;return t})();var me=t=>[t],Z=(()=>{var e;let a=class a{constructor(){S(this,e,void 0);this.classNames="",j(this,e,h(x))}handleClickButton(n){switch(n){case"down":u(this,e).moveDownTetromino();break;case"left":u(this,e).moveHorizontalTetromino("left");break;case"right":u(this,e).moveHorizontalTetromino("right");break;case"rotation":u(this,e).rotateTetromino();break;default:return}}keyEvent(n){switch(n.key){case"ArrowDown":u(this,e).moveDownTetromino(),n.preventDefault();break;case"ArrowLeft":u(this,e).moveHorizontalTetromino("left"),n.preventDefault();break;case"ArrowRight":u(this,e).moveHorizontalTetromino("right"),n.preventDefault();break;case"ArrowUp":u(this,e).rotateTetromino(),n.preventDefault();break;default:return}}};e=new WeakMap,a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=c({type:a,selectors:[["directionnal-button"]],hostBindings:function(i,v){i&1&&b("keydown",function(I){return v.keyEvent(I)},!1,H)},inputs:{direction:"direction",classNames:"classNames"},standalone:!0,features:[l],decls:4,vars:4,consts:[[1,"directionnal-button__wrapper","flex","flex-col","items-center"],[1,"directionnal-button","rounded-full",3,"click","ngClass"],[1,"text"]],template:function(i,v){i&1&&(o(0,"div",0)(1,"button",1),b("click",function(){return v.handleClickButton(v.direction)}),r(),o(2,"label",2),f(3),r()()),i&2&&(m(),d("ngClass",R(2,me,v.classNames)),m(2),X(v.direction))},dependencies:[P],styles:[".directionnal-button[_ngcontent-%COMP%]{box-shadow:0 -3px 6px #fff9 inset}.directionnal-button[_ngcontent-%COMP%]:active{transform:rotate(180deg)}.directionnal-button.red[_ngcontent-%COMP%]{background-color:red}.directionnal-button.blue[_ngcontent-%COMP%]{background-color:#00f}.directionnal-button.yellow[_ngcontent-%COMP%]{background-color:#d4ac0d}.directionnal-button.green[_ngcontent-%COMP%]{background-color:green}.directionnal-button__wrapper[_ngcontent-%COMP%]{position:relative}label[_ngcontent-%COMP%]{font-size:14px;text-transform:capitalize}"]});let t=a;return t})();var ee=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["directionnal-cross"]],standalone:!0,features:[l],decls:6,vars:0,consts:[[1,"directionnal-cross","flex","flex-col","justify-center","gap-1"],[1,"up","self-center"],[1,"flex","justify-between"],[1,"left"],[1,"right"],[1,"down","self-center"]],template:function(n,i){n&1&&(o(0,"div",0),p(1,"em",1),o(2,"div",2),p(3,"em",3)(4,"em",4),r(),p(5,"em",5),r())},styles:[".directionnal-cross[_ngcontent-%COMP%]{width:50px}em[_ngcontent-%COMP%]{display:block;height:0;width:0;border:6px solid;border-color:transparent transparent #111}em.right[_ngcontent-%COMP%]{transform:rotate(90deg)}em.left[_ngcontent-%COMP%]{transform:rotate(-90deg)}em.down[_ngcontent-%COMP%]{transform:rotate(180deg)}"]});let t=e;return t})();var de=(t,e)=>[t,e],te=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["tile"]],inputs:{isActive:"isActive",size:"size",opacity:"opacity"},standalone:!0,features:[l],decls:2,vars:5,consts:[["name","tile__wrapper",1,"border","border-black",3,"ngClass"],["name","tile",3,"ngClass"]],template:function(n,i){n&1&&(o(0,"div",0),p(1,"div",1),r()),n&2&&(d("ngClass",i.opacity),m(),d("ngClass",F(2,de,i.size,i.isActive?"bg-black":"")))},dependencies:[P],styles:["[name=tile].tile-lg[_ngcontent-%COMP%]{height:.8rem;width:.8rem}[name=tile].tile-sm[_ngcontent-%COMP%]{height:.5rem;width:.5rem}"]});let t=e;return t})();var fe=(t,e)=>[t,e];function ue(t,e){if(t&1&&p(0,"tile",4),t&2){let a=M().$implicit,s=M(3);d("size",s.tileSize)("isActive",a===1)("opacity",s.tileOpacity)}}function ge(t,e){if(t&1&&C(0,ue,1,3,"tile",5),t&2){let a=M(3);d("ngIf",a.gridSize)}}function ve(t,e){if(t&1&&(o(0,"div",3),z(1,ge,1,1,"tile",4,N),r()),t&2){let a=e.$implicit;m(),B(a)}}function he(t,e){if(t&1&&(o(0,"div",2),z(1,ve,3,0,"div",3,N),r()),t&2){let a=M();m(),B(a.grid)}}var E=(()=>{let e=class e{constructor(){this.classNames=""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["grid"]],inputs:{grid:"grid",gridSize:"gridSize",tileSize:"tileSize",tileOpacity:"tileOpacity",classNames:"classNames"},standalone:!0,features:[l],decls:2,vars:5,consts:[["name","grid",3,"ngClass"],["class","grid__wrapper flex flex-col items-center",4,"ngIf"],[1,"grid__wrapper","flex","flex-col","items-center"],[1,"grid__row","flex"],[3,"size","isActive","opacity"],[3,"size","isActive","opacity",4,"ngIf"]],template:function(n,i){n&1&&(o(0,"div",0),C(1,he,3,0,"div",1),r()),n&2&&(d("ngClass",F(2,fe,i.gridSize,i.classNames)),m(),d("ngIf",i.grid))},dependencies:[te,P,w],styles:[".grid-sm[_ngcontent-%COMP%]   .grid__wrapper[_ngcontent-%COMP%], .grid-sm[_ngcontent-%COMP%]   .grid__row[_ngcontent-%COMP%], .grid-lg[_ngcontent-%COMP%]   .grid__wrapper[_ngcontent-%COMP%]{gap:.125rem}.grid-lg[_ngcontent-%COMP%]   .grid__row[_ngcontent-%COMP%]{gap:.2rem}"]});let t=e;return t})();var ne=(()=>{let e=class e{transform(s){return`${s}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=$({name:"tostring",type:e,pure:!0,standalone:!0});let t=e;return t})();function xe(t,e){t&1&&(o(0,"span",6),f(1,":"),r())}var ie=(()=>{let e=class e{constructor(){this.counter$=D(0,1e3),this.show$=D(0,2e3),this.hide$=D(1e3,2e3),this.currentTime$=this.counter$.pipe(T(s=>new Date)),this.blinker$=A(this.show$.pipe(T(s=>"show")),this.hide$.pipe(T(s=>"hide")))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["clock"]],standalone:!0,features:[l],decls:13,vars:15,consts:[[1,"clock","flex","justify-center"],[1,"clock__body","flex","justify-between","w-11"],[1,"clock__hour"],[1,"clock__colon"],["class","colon",4,"ngIf"],[1,"clock__minutes"],[1,"colon"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"div",1)(2,"span",2),f(3),y(4,"async"),y(5,"date"),r(),o(6,"span",3),C(7,xe,2,0,"span",4),y(8,"async"),r(),o(9,"span",5),f(10),y(11,"async"),y(12,"date"),r()()()),n&2&&(m(3),_(" ",G(5,5,k(4,3,i.currentTime$),"HH")," "),m(4),d("ngIf",k(8,8,i.blinker$)==="show"),m(3),_(" ",G(12,12,k(11,10,i.currentTime$),"mm")," "))},dependencies:[Y,J,w],encapsulation:2});let t=e;return t})();var oe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen-info-text"]],inputs:{text:"text"},standalone:!0,features:[l],decls:2,vars:1,consts:[[1,"screen-info__text"]],template:function(n,i){n&1&&(o(0,"div",0),f(1),r()),n&2&&(m(),_(" ",i.text," "))},encapsulation:2});let t=e;return t})();var re=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen-info-title"]],inputs:{title:"title"},standalone:!0,features:[l],decls:2,vars:1,consts:[[1,"screen-info__title","font-bold"]],template:function(n,i){n&1&&(o(0,"div",0),f(1),r()),n&2&&(m(),_(" ",i.title," "))},encapsulation:2});let t=e;return t})();var Ce=["*"],ae=(()=>{let e=class e{constructor(){this.classNames=""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen-info-group"]],inputs:{classNames:"classNames"},standalone:!0,features:[l],ngContentSelectors:Ce,decls:2,vars:0,consts:[[1,"screen-info__group","flex","flex-col","items-center"]],template:function(n,i){n&1&&(U(),o(0,"div",0),L(1),r())},encapsulation:2});let t=e;return t})();function be(t,e){if(t&1&&(o(0,"screen-info-group"),p(1,"screen-info-title",7)(2,"screen-info-text",8),y(3,"tostring"),r()),t&2){let a=M();m(2),d("text",k(3,1,a.gameService.displayedScore))}}var se=(()=>{let e=class e{constructor(){this.gameService=h(x),this.emptyTetrominoShape=Array(2).fill(Array(4).fill(0))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen-info"]],standalone:!0,features:[l],decls:10,vars:5,consts:[[1,"screen_info__wrapper","flex","flex-col","gap-8","h-full","w-14"],[4,"ngIf"],["title","Next"],["gridSize","grid-sm","tileSize","tile-sm",3,"grid"],[1,"align-self-end","mt-auto"],[3,"title"],[1,"font-bold"],["title","Score"],[3,"text"]],template:function(n,i){n&1&&(o(0,"div",0),C(1,be,4,3,"screen-info-group",1),o(2,"screen-info-group"),p(3,"screen-info-title",2)(4,"grid",3),r(),o(5,"div",4)(6,"screen-info-group"),p(7,"screen-info-title",5),y(8,"uppercase"),r(),p(9,"clock",6),r()()),n&2&&(m(),d("ngIf",i.gameService.displayedScore>=0),m(3),d("grid",(i.gameService.nextTetromino==null?null:i.gameService.nextTetromino.baseShape)||i.emptyTetrominoShape),m(3),d("title",k(8,3,i.gameService.playerName)||""))},dependencies:[E,ie,ae,oe,re,ne,q,w],encapsulation:2});let t=e;return t})();var ce=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen-grid-text"]],inputs:{text:"text"},standalone:!0,features:[l],decls:2,vars:1,consts:[[1,"screen__text","font-bold"]],template:function(n,i){n&1&&(o(0,"div",0),f(1),r()),n&2&&(m(),_(" ",i.text," "))},encapsulation:2});let t=e;return t})();function _e(t,e){t&1&&p(0,"screen-grid-text",5)}function ye(t,e){t&1&&p(0,"screen-grid-text",6)}var le=(()=>{let e=class e{constructor(){this.gameService=h(x)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["screen"]],standalone:!0,features:[l],decls:5,vars:4,consts:[[1,"screen","border","border-black","inline-flex","mx-auto","justify-between","h-full","relative"],["gridSize","grid-lg","tileSize","tile-lg","classNames","border-2 border-black p-0.5",1,"p-2",3,"grid","tileOpacity"],["class","absolute top-[44%] left-[23%] text-2xl ","text","PAUSE",4,"ngIf"],["class","absolute top-[44%] left-[10%] text-xl","text","Turn ON to start",4,"ngIf"],[1,"p-2"],["text","PAUSE",1,"absolute","top-[44%]","left-[23%]","text-2xl"],["text","Turn ON to start",1,"absolute","top-[44%]","left-[10%]","text-xl"]],template:function(n,i){n&1&&(o(0,"div",0),p(1,"grid",1),C(2,_e,1,0,"screen-grid-text",2)(3,ye,1,0,"screen-grid-text",3),p(4,"screen-info",4),r()),n&2&&(m(),d("grid",i.gameService.grid)("tileOpacity",i.gameService.isPaused||i.gameService.isGameOver?"opacity-25":""),m(),d("ngIf",i.gameService.isPaused&&!i.gameService.isGameOver),m(),d("ngIf",i.gameService.isGameOver))},dependencies:[E,se,ce,w],styles:[".screen[_ngcontent-%COMP%]{background-color:#9ead86}"]});let t=e;return t})();var pe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["game-console"]],hostAttrs:[1,"basis-full"],standalone:!0,features:[l],decls:16,vars:0,consts:[[1,"game-console","flex","flex-col","mx-auto","rounded-xl","p-2"],[1,"flex","justify-end"],[1,"self-center"],["name","game-controls"],["name","commands",1,"flex","black","justify-between","px-4"],["name","drop-button",1,"self-center"],["id","directionnal-buttons",1,"flex","flex-col","align-end","self-center","basis-2/5"],["name","btn-up","classNames","blue","direction","rotation",1,"self-center"],[1,"flex","justify-between"],["name","btn-left","classNames","green","direction","left"],["name","directionnal-cross"],["name","btn-right","classNames","red","direction","right"],["name","btn-down","classNames","yellow","direction","down",1,"self-center"],[1,"flex","justify-center"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"div",1),p(2,"power-switch-button"),r(),p(3,"screen",2),o(4,"div",3)(5,"div",4),p(6,"drop-button",5),o(7,"div",6),p(8,"directionnal-button",7),o(9,"div",8),p(10,"directionnal-button",9)(11,"directionnal-cross",10)(12,"directionnal-button",11),r(),p(13,"directionnal-button",12),r()(),o(14,"div",13),p(15,"pause-button"),r()()())},dependencies:[le,ee,Z,W,V,Q],styles:[".game-console[_ngcontent-%COMP%]{width:100%;max-width:500px;background-color:#a6acaf;height:100%}[name=game-controls][_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-evenly}[name=directionnal-cross][_ngcontent-%COMP%]{margin-top:3%}[name=drop-button][_ngcontent-%COMP%]     button{height:4.5rem;width:4.5rem}#directionnal-buttons[_ngcontent-%COMP%]     button{height:2.6rem;width:2.6rem}#directionnal-buttons[_ngcontent-%COMP%]     [name=btn-up] label{position:absolute;right:-57px;top:0%}#directionnal-buttons[_ngcontent-%COMP%]     [name=btn-down] label{position:absolute;right:-40px;bottom:0%}"]});let t=e;return t})();var Nt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["ng-component"]],hostAttrs:[1,"h-full"],standalone:!0,features:[l],decls:3,vars:0,consts:[[1,"h-full"],[1,"flex","justify-center","h-full","px-1","py-2"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"div",1),p(2,"game-console"),r()())},dependencies:[pe,K],encapsulation:2});let t=e;return t})();export{Nt as HomeComponent};
